---
title: "Hands-on Session: Reconstructing Past Social Networks from Inscriptions"
author: 
- Petra Hermankova^[Aarhus University, Denmark, https://orcid.org/0000-0002-6349-0540]
- Tom Brughmans^[Aarhus University, Denmark, https://orcid.org/0000-0002-1589-7768]
date: "Last updated: `r format(Sys.Date())`"
output:
  html_document:
    theme: united
    toc: yes
    toc_float: true
    number_sections: true
    toc_depth: 2
    df_print: paged
---
_Event: Epigraphy.info IX, 2-4 April 2025, Aarhus, Denmark. See https://epigraphy.info/workshop_9/ for details._

This script demonstrates how to convert people and their relationships from Latin inscriptions into a network representation.

# Initial setup

```{r setup, echo=TRUE, message=FALSE, warning = FALSE}

# Install required packages if not already installed
if (!requireNamespace("igraph", quietly = TRUE)) install.packages("igraph")
if (!requireNamespace("dplyr", quietly = TRUE)) install.packages("dplyr")
if (!requireNamespace("ggplot2", quietly = TRUE)) install.packages("ggplot2")
if (!requireNamespace("ggraph", quietly = TRUE)) install.packages("ggraph")
if (!requireNamespace("networkD3", quietly = TRUE)) install.packages("networkD3")

# Load required libraries
library(igraph)      # For network creation and analysis
library(dplyr)       # For data manipulation
library(ggplot2)     # For visualization
library(ggraph)      # For advanced network visualization
library(networkD3)   # For interactive visualization

```

# The inscription and its context

We are going to be working with a real inscription:
**Epitaph from S. Ponso Canavese (Transpadana (Regio XI))** from EDH (https://edh.ub.uni-heidelberg.de/edh/inschrift/HD003544)

---

**Chronological Data**:

- 51 AD â€“ 150 AD (EDH)
- 71 AD - 130 AD (EDR)
- 75 AD - 125 AD (Trismegistos)
- 71 AD - 130 AD (EDCS)

**Transcription** (from EDH):

_P(ublius) Livius P(ubli) f(ilius) Macer  <br>
IIvir QDIV sibi et  <br>
Iuniae C(ai) f(iliae) Vetullae uxori <br>
P(ublio) Livio Macro VIvir(o) avo  <br>
Pinariae Sex(ti) f(iliae) Quartae aviae  <br>
Liviae P(ubli) f(iliae) Pollae amitae  <br>
Vibiae T(iti) f(iliae) Pollae matri t(estamento) f(ieri) i(ussit)_

**Translation** (PHer):

_Publius Livius Macer, son of Publius, <br>
duumvir (municipal magistrate) QDIV, [had this monument made] for himself and for Iunia Vetulla, daughter of Gaius, his wife; <br>
for Publius Livius Macro, sevir (member of a board of six), his grandfather; <br>
for Pinaria Quarta, daughter of Sextus, his grandmother; <br>
for Livia Polla, daughter of Publius, his paternal aunt; <br>
for Vibia Polla, daughter of Titus, his mother; ordered this to be made by testament._

**Images**:

```{r, echo=FALSE, out.width="100%", fig.align="center"}
# image from EDCS https://db.edcs.eu/epigr/bilder.php?s_language=en&bild=$Torino_00042.jpg
knitr::include_graphics("../images/$Torino_00042.jpg")
```


**References**:

- AE 1985, 0479.
- G. Cresci Marrone, BollstorbiblSubalp 83, 1985, 577-579, Nr. 2; Foto 2. - AE 1985.
- CIL 05, 06917. (B)

- https://www.trismegistos.org/text/285446
- http://www.edr-edr.it/edr_programmi/res_complex_comune.php?do=book&id_nr=EDR079871


_Other bibliography:_

- Laes, C. (2024). Amitae and Materterae in Latin Inscriptions. A Contribution to the Study of the Roman Family.
Arctos: acta philologica Fennica, 2023(57), 103-155. https://journal.fi/arctos/article/view/146916

---

## Step 1: Identify individuals mentioned in the inscription


```{r}

# Let's identify each person and assign them an ID
people <- data.frame(
  id = 1:8,
  name = c("Publius Livius Macer", 
           "Iunia Vetulla", 
           "Publius Livius Macro", 
           "Pinaria Quarta",
           "Livia Polla",
           "Vibia Polla",
           "Publius Livius",
           "Gaius"),
  gender = c("male", "female", "male", "female", "female", "female", "male", "male"),
  role = c("commissioner", "wife", "grandfather", "grandmother", "aunt", "mother", "father", "father"),
  status = c("freeborn", "freeborn", "freeborn", "freeborn", "freeborn", "freeborn", "freeborn", "freeborn"),
 generation = c(3, 3, 1, 1, 2, 2, 2, 2),
  stringsAsFactors = FALSE
)

# Print the people we've identified
print(people)

```

## Step 2: Identify relationships between these individuals

- Publius Livius Macer (1) is the spouse of Iunia Vetulla (2)
- Publius Livius Macer (1) is the grandson of Publius Livius Macro (3)
- Publius Livius Macer (1) is the grandson of Pinaria Quarta (4)
- Publius Livius Macer (1) is the son of Publius Livius (7)
- Publius Livius Macro (3) is the grandfather of Publius Livius Macer (1)
- Iunia Vetulla (2) is the daughter of Gaius (8)
- Pinaria Quarta (4) is the grandmother of Publius Livius Macer (1)
- Livia Polla (5) is the aunt of Publius Livius Macer (1)
- Vibia Polla (6) is the mother of Publius Livius Macer (1)
- Publius Livius (7) is the father of Publius Livius Macer (1)
- Publius Livius Macer (1) is the son of Vibia Polla (6)
- Pinaria Quarta (4) is the spouse of Publius Livius Macro (3) INFERRED
- Vibia Polla (6) is the spouse of Publius Livius (7) INFERRED
- Vibia Polla (6) is the sibling of Livia Polla (5) INFERRED

```{r}
# Define relationships
relationships <- data.frame(
  from = c(1, 1, 1, 1, 2, 3, 4, 5, 6, 7, 1, 4, 6, 6),
  to = c(2, 3, 4, 7, 8, 1, 1, 1, 1, 1, 6, 3, 7, 5),
  relationship = c("spouse_of", "grandson_of", "grandson_of", "son_of", "daughter_of", "grandfather_of", "grandmother_of", "aunt_of", "mother_of", "father_of", "father_of", "spouse_of", "spouse_of", "sibling_of"),
  certainty = c("certain", "certain", "certain", "certain", "certain", "certain", "certain", "certain", "certain", "certain", "certain", "inferred", "inferred", "inferred"),
  stringsAsFactors = FALSE
)

# Print the relationships we've identified
print(relationships)

```


## Step 3: Create the network

```{r}

# Remove NA relationships for network creation
relationships_clean <- relationships %>% 
  filter(!is.na(to))

# Create the graph/network object (using igraph package https://igraph.org/)
inscription_network <- graph_from_data_frame(relationships_clean, directed = TRUE, vertices = people)

# Print basic network information
print(inscription_network)

```

## Step 4: Basic visualization

```{r}
# Visualizing the network using igraph package https://igraph.org/

# Set plot parameters
par(mar = c(0, 0, 2, 0))  # Adjust margins for better visualization

# Plot the network
plot(inscription_network, 
     vertex.label = V(inscription_network)$name,
     vertex.color = ifelse(V(inscription_network)$gender == "male", "blue", "red"),
     vertex.size = 20,
     vertex.label.cex = 0.9,
     edge.arrow.size = 0.5,
     edge.label = E(inscription_network)$relationship,
     edge.label.cex = 0.9,
     layout = layout_with_fr(inscription_network),
     main = "Network of Publius Livius Macer (EDH003544 Inscription)")

```

## Step 5: Advanced visualization with ggraph

```{r}
# Different ways to visualise the same data, using ggraph package https://ggraph.data-imaginist.com/

# Create a more sophisticated visualization
inscription_plot <- ggraph(inscription_network, layout = 'fr') + 
  geom_edge_link(aes(label = relationship, 
                     color = certainty), 
                 arrow = arrow(length = unit(2, 'mm')), 
                 end_cap = circle(5, 'mm'),
                 angle_calc = 'along',
                 label_size = 2, 
                 label_colour = "brown") + 
  geom_node_point(aes(color = gender, size = 5)) + 
  geom_node_text(aes(label = name), repel = TRUE, size = 3.5) +
  scale_edge_color_manual(values = c("certain" = "black", "uncertain" = "gray90")) +
  scale_color_manual(values = c("male" = "blue", "female" = "red")) +
  theme_graph() +
  ggtitle("Social Relations of Publius Livius Macer (EDH003544 Inscription)") +
  theme(legend.position = "bottom")

# Print the plot
print(inscription_plot)
```

## Step 6: Genealogical visualisation

```{r}
# using igraph package

# Create directed graph
g <- graph_from_data_frame(d = relationships, vertices = people, directed = TRUE)

# Set visual attributes
V(g)$color <- ifelse(V(g)$generation == 1, "tan", 
                   ifelse(V(g)$generation == 2, "lightgreen", "lightblue"))
V(g)$shape <- ifelse(V(g)$gender == "female", "circle", "rectangle") #female = circle, male = rectangle
V(g)$label.cex <- 1
E(g)$color <- ifelse(E(g)$certainty == "certain", "black", "gray")
E(g)$width <- ifelse(E(g)$certainty == "certain", 2, 1)
E(g)$arrow.size <- 0.6

# Create a layout with generations properly positioned
# Custom layout to resemble a traditional family tree 

### If you are adding new people, don't forget to position them in the matrix - the first number denotes the right to left position, the other one generations, e.g. generation 1: 300, generation 2:200, generation 3: 100
custom_layout <- matrix(c(
  400, 100,  # 1: Publius Livius Macer (main person)
  500, 100,  # 2: Iunia Vetulla (wife)
  300, 300,  # 3: Publius Livius Macro (grandfather)
  500, 300,  # 4: Pinaria Quarta (grandmother)
  200, 200,  # 5: Livia Polla (aunt)
  300, 200,  # 6: Vibia Polla (mother)
  400, 200,  # 7: Publius Livius (father)
  600, 200   # 8: Gaius (father)
), ncol = 2, byrow = TRUE)

# Plot the graph
png("../images/PubliusLiviusMacer_roman_family_tree.png", width = 1200, height = 800,
    res = 100
    )
plot(g, layout = custom_layout,
     edge.label = E(g)$relationship,
     edge.label.dist = 1,
     edge.label.cex = 0.6,
     edge.curved = 0,
     edge.label.color = "darkblue",
     vertex.size = 25,
     vertex.label.color = "black",
     vertex.frame.color = "grey",
     vertex.label.cex = 0.8,
     vertex.label.dist = 1,             # node label size
     vertex.label.font = 2,             # node label type (bold)
     vertex.label = E(g)$name,
     main = "Family of Publius Livius Macer from EDH003544")

legend("bottomleft", 
       legend = c("Certain Relationship", "Inferred Relationship", 
                 "Grandparents", "Parents", "Main Generation"), 
       lty = c(1, 1, NA, NA, NA), 
       col = c("black", "gray", "tan", "lightgreen", "lightblue"),
       pch = c(NA, NA, 15, 15, 15),
       cex = 0.8,
       bg = "white")


```


## Exercise - add missing poeple and relationships

_Your task is to identify any individuals from the text of the inscription who are missing and add them to the graph, using the script above._

**The text of the inscription:** 

_P(ublius) Livius P(ubli) f(ilius) Macer  <br>
IIvir QDIV sibi et  <br>
Iuniae C(ai) f(iliae) Vetullae uxori <br>
P(ublio) Livio Macro VIvir(o) avo  <br>
Pinariae **Sex(ti)** f(iliae) Quartae aviae  <br>
Liviae P(ubli) f(iliae) Pollae amitae  <br>
Vibiae **T(iti)** f(iliae) Pollae matri t(estamento) f(ieri) i(ussit)_


### Exercise 1:  Reconstruct the persons of Sextus and Titus

You can either copy paste the code from above, or create your people and relationships in the spreadsheet and load them back into R. The spreadsheets are located in the `data` folder. Open them with a software of your choice and edit.

#### Step 1: People

```{r}
# loading a spreadsheet into R

people2 <- read.csv("../data/People_simple.csv")
people2
```

#### Step 2: Relationships
```{r}
# loading a spreadsheet into R

relationships2 <- read.csv("../data/Relationships_simple.csv")
relationships2
```

#### Step 3: Create the network

```{r}
# Remove NA relationships for network creation
relationships_clean2 <- relationships2 %>% 
  filter(!is.na(to))

# Create the graph/network object
inscription_network2 <- graph_from_data_frame(relationships_clean2, directed = TRUE, vertices = people2)

# Print basic network information
print(inscription_network2)

```

#### Step 4: Visualise the network

```{r}
# using igraph package

# Create directed graph
g2 <- graph_from_data_frame(d = relationships2, vertices = people2, directed = TRUE)

# Set visual attributes
V(g2)$color <- ifelse(V(g2)$generation == 1, "tan", 
                   ifelse(V(g2)$generation == 2, "lightgreen", "lightblue"))
V(g2)$shape <- ifelse(V(g2)$gender == "female", "circle", "rectangle") #female = circle, male = rectangle
V(g2)$label.cex <- 1
E(g2)$color <- ifelse(E(g2)$certainty == "certain", "black", "gray")
E(g2)$width <- ifelse(E(g2)$certainty == "certain", 2, 1)
E(g2)$arrow.size <- 0.6

# Create a layout with generations properly positioned
# Custom layout to resemble a traditional family tree

### If you are adding new people, don't forget to position them in the matrix - the first number denotes the right to left position, the other one generations, e.g. generation 1: 300, generation 2:200, generation 3: 100

custom_layout <- matrix(c(
  400, 100,  # 1: Publius Livius Macer (main person)
  500, 100,  # 2: Iunia Vetulla (wife)
  300, 300,  # 3: Publius Livius Macro (grandfather)
  500, 300,  # 4: Pinaria Quarta (grandmother)
  200, 200,  # 5: Livia Polla (aunt)
  300, 200,  # 6: Vibia Polla (mother)
  400, 200,  # 7: Publius Livius (father)
  600, 200   # 8: Gaius (father)
), ncol = 2, byrow = TRUE)

# Plot the graph
png("../images/PubliusLiviusMacer_roman_family_tree_updated.png", width = 1200, height = 800,
    res = 100
    )
plot(g, layout = custom_layout,
     edge.label = E(g2)$relationship,
     edge.label.dist = 1,
     edge.label.cex = 0.6,
     edge.curved = 0,
     edge.label.color = "darkblue",
     vertex.size = 25,
     vertex.label.color = "black",
     vertex.frame.color = "grey",
     vertex.label.cex = 0.8,
     vertex.label.dist = 1,             # node label size
     vertex.label.font = 2,             # node label type (bold)
     vertex.label = E(g2)$name,
     main = "Family of Publius Livius Macer from EDH003544")

legend("bottomleft", 
       legend = c("Certain Relationship", "Inferred Relationship", 
                 "Grandparents", "Parents", "Main Generation"), 
       lty = c(1, 1, NA, NA, NA), 
       col = c("black", "gray", "tan", "lightgreen", "lightblue"),
       pch = c(NA, NA, 15, 15, 15),
       cex = 0.8,
       bg = "white")


```

Compare your new visualisation with the old one. Are you happy with the result? If not, go back to the data or the code and adjust accordingly.


### Exercise 2 (Advanced): Reconstruct the inferred people and relationships

First, let's discuss the following scenarios from the methodological point of view. How would you go about it?

1. What does the name of Pinaria Quarta suggests? _Hint - try to reconstruct missing siblings Pinaria Prima, Pinaria Secunda, Pinaria Tertia._
2. The same applies for siblings of Sextus. What are your assumptions?
3. How would you go about reconstructing the missing, yet biologically prerequisite, men and women, such as wife of Gaius, wife of Sextus, or parents of Sextus?

Once you have identified the people and their relationships, you can add them and try to visualise them.

```{r}
# work here
```



# More complex data - family ties

To demonstrate more advanced scenarios and demonstrate the utility of SNA beyond visualisations, we need to load in a new larger dataset.

Using AI (Claude.ai) generated dataset of 74 individuals and their family ties from a ficticious corpus called INS.

**Dataset Structure**:

- Basic Information: Names (praenomen, nomen, cognomen), family ID, birth/death years, gender
- Family Connections: Father, mother, spouse, and patron IDs
- Social Context: Status (patrician/plebeian)
- Archaeological Data: Inscription ID, location, and type

**The Three Families**:

- Valerii (family_id 1): A patrician family with branches in Rome, Ostia, Pompeii and Herculaneum
- Cornelii (family_id 2): A prominent patrician family centered in Rome and Capua
- Tullii (family_id 3): A family with both patrician and plebeian members, primarily in Rome

**Interconnections**:

- Marriage alliances between families (example: person 53, Valeria Messalina, connects the Valerii to the Cornelii)
- Multiple generations (spanning approximately 200 years)
- Various inscription types (funerary, honorary, votive)


## Load the data
```{r}
# Load necessary libraries
library(igraph)
library(dplyr)
library(readr)
library(ggplot2)
```

```{r}
# Read the CSV data
  family <- read.csv("../data/latin-inscriptions-family-data.txt", stringsAsFactors = FALSE)
```

```{r}
# display the data
family
```

## Process the data

```{r}
# Clean up the data - replace NA strings with actual NA values
family[family == "NA"] <- NA

```

```{r}
# Create family relationships dataframe
relationships <- data.frame(
  from = character(),
  to = character(),
  relation = character(),
  stringsAsFactors = FALSE
)

# Add parent-child relationships
# Father-child
father_child <- family %>%
  filter(!is.na(father_id)) %>%
  select(father_id, person_id)
father_child$relation <- "parent"
names(father_child) <- c("from", "to", "relation")

# Mother-child
mother_child <- family %>%
  filter(!is.na(mother_id)) %>%
  select(mother_id, person_id)
mother_child$relation <- "parent"
names(mother_child) <- c("from", "to", "relation")

# Spouse relationships
spouse <- family %>%
  filter(!is.na(spouse_id) & person_id < spouse_id) %>%
  select(person_id, spouse_id)
spouse$relation <- "spouse"
names(spouse) <- c("from", "to", "relation")

# Combine all relationships
relationships <- rbind(relationships, father_child, mother_child, spouse)

# Create a lookup table for person names
person_lookup <- family %>%
  mutate(full_name = paste(praenomen, nomen, cognomen)) %>%
  select(person_id, full_name, family_id, gender, birth_year, death_year)

person_lookup
```

## Visualise the data

Main Network Visualization shows all three families with their interconnections, using:
- Different colors for each family (Valerii in blue, Cornelii in green, Tullii in salmon)
- Different shapes for gender (squares for males, circles for females)
- Different line styles for relationship types (gray for parent-child, red for spouse

The visualizations use the Fruchterman-Reingold layout algorithm, which works well for family networks as it tends to place connected nodes closer together.

```{r}
# Create the network graph
g <- graph_from_data_frame(d = relationships, vertices = person_lookup, directed = TRUE)

# Set vertex attributes
V(g)$color <- ifelse(V(g)$family_id == 1, "skyblue", 
                    ifelse(V(g)$family_id == 2, "lightgreen", "salmon"))
V(g)$shape <- ifelse(V(g)$gender == "M", "square", "circle")
V(g)$size <- 10
V(g)$label <- V(g)$full_name
V(g)$label.cex <- 0.7

# Set edge attributes
E(g)$color <- ifelse(E(g)$relation == "parent", "gray", "red")
E(g)$width <- ifelse(E(g)$relation == "parent", 1, 2)
E(g)$arrow.size <- 0.5

# Create a layout that works well for family networks
layout_family <- layout_with_fr(g)

# Plot the graph
plot(g, 
     layout = layout_family,
     vertex.label.dist = 0.5,
     vertex.label.color = "black",
     vertex.label.family = "sans",
     vertex.label.degree = -pi/2,
     edge.curved = 0.2,
     main = "[Ficticious] Latin Family Network from Inscriptions")

# Add a legend
legend("bottomleft", 
       legend = c("Valerii (Family 1)", "Cornelii (Family 2)", "Tullii (Family 3)", "Male", "Female", "Parent-Child", "Spouse"),
       pch = c(15, 15, 15, 0, 1, NA, NA),
       lty = c(NA, NA, NA, NA, NA, 1, 1),
       lwd = c(NA, NA, NA, NA, NA, 1, 2),
       col = c("skyblue", "lightgreen", "salmon", "black", "black", "gray", "red"),
       pt.cex = 2,
       cex = 0.8,
       bty = "n")
```

## Focus on one family

Cornelii Family Focus: A more detailed view of just the Cornelii family and their marriage connections to other families.
```{r}
# For example, let's focus on the Cornelii (family_id 2)

# Filter for just family 2
cornelii_ids <- family %>% 
  filter(family_id == 2) %>% 
  pull(person_id)

# Get all relationships involving Cornelii
cornelii_relations <- relationships %>%
  filter(from %in% cornelii_ids | to %in% cornelii_ids)

# Create the subgraph
g_cornelii <- graph_from_data_frame(d = cornelii_relations, 
                                   vertices = person_lookup %>% filter(person_id %in% unique(c(cornelii_relations$from, cornelii_relations$to))), 
                                   directed = TRUE)

# Set vertex attributes for the Cornelii subgraph
V(g_cornelii)$color <- ifelse(V(g_cornelii)$family_id == 2, "lightgreen", 
                             ifelse(V(g_cornelii)$family_id == 1, "skyblue", "salmon"))
V(g_cornelii)$shape <- ifelse(V(g_cornelii)$gender == "M", "square", "circle")
V(g_cornelii)$size <- 12
V(g_cornelii)$label <- V(g_cornelii)$full_name
V(g_cornelii)$label.cex <- 0.8

# Set edge attributes for the Cornelii subgraph
E(g_cornelii)$color <- ifelse(E(g_cornelii)$relation == "parent", "gray", "red")
E(g_cornelii)$width <- ifelse(E(g_cornelii)$relation == "parent", 1, 2)
E(g_cornelii)$arrow.size <- 0.5

# Create a layout that works well for family networks
layout_cornelii <- layout_with_fr(g_cornelii)

# Plot the Cornelii subgraph
plot(g_cornelii, 
     layout = layout_cornelii,
     vertex.label.dist = 0.7,
     vertex.label.color = "black",
     vertex.label.family = "sans",
     vertex.label.degree = -pi/2,
     edge.curved = 0.2,
     main = "[Ficticious] Cornelii Family Network")

# Add a legend for the Cornelii subgraph
legend("bottomleft", 
       legend = c("Cornelii", "Marriage ties to Valerii", "Marriage ties to Tullii", "Male", "Female", "Parent-Child", "Spouse"),
       pch = c(15, 15, 15, 0, 1, NA, NA),
       lty = c(NA, NA, NA, NA, NA, 1, 1),
       lwd = c(NA, NA, NA, NA, NA, 1, 2),
       col = c("lightgreen", "skyblue", "salmon", "black", "black", "gray", "red"),
       pt.cex = 2,
       cex = 0.8,
       bty = "n")


```

## Temporal visualization showing generations

Generational View organizes the network by generations based on birth years to show how the families evolved over time.

```{r}
# Add a generation attribute based on birth year
family$generation <- cut(family$birth_year, 
                            breaks = c(-120, -80, -40, 0, 40), 
                            labels = c("Generation 1", "Generation 2", "Generation 3", "Generation 4"))

# Create a generational network (simplified)
gen_network <- family %>%
  select(person_id, praenomen, nomen, cognomen, family_id, gender, generation) %>%
  mutate(full_name = paste(praenomen, nomen, cognomen))

# Create the generational graph
g_gen <- graph_from_data_frame(d = relationships, vertices = gen_network, directed = TRUE)

# Set vertex attributes for the generational graph
V(g_gen)$color <- ifelse(V(g_gen)$family_id == 1, "skyblue", 
                        ifelse(V(g_gen)$family_id == 2, "lightgreen", "salmon"))
V(g_gen)$shape <- ifelse(V(g_gen)$gender == "M", "square", "circle")
V(g_gen)$size <- 8
V(g_gen)$label <- V(g_gen)$full_name
V(g_gen)$label.cex <- 0.6

# Set edge attributes for the generational graph
E(g_gen)$color <- ifelse(E(g_gen)$relation == "parent", "gray", "red")
E(g_gen)$width <- ifelse(E(g_gen)$relation == "parent", 1, 2)
E(g_gen)$arrow.size <- 0.5

# Create a layout that separates generations
layout_gen <- layout_with_fr(g_gen)

# Plot the generational graph
plot(g_gen, 
     layout = layout_gen,
     vertex.label.dist = 0.5,
     vertex.label.color = "black",
     vertex.label.family = "sans",
     vertex.label.degree = -pi/2,
     edge.curved = 0.2,
     main = "[Ficticious] Latin Family Network Across Generations")

# Add a legend for the generational graph
legend("bottomleft", 
       legend = c("Valerii", "Cornelii", "Tullii", "Male", "Female", "Parent-Child", "Spouse"),
       pch = c(15, 15, 15, 0, 1, NA, NA),
       lty = c(NA, NA, NA, NA, NA, 1, 1),
       lwd = c(NA, NA, NA, NA, NA, 1, 2),
       col = c("skyblue", "lightgreen", "salmon", "black", "black", "gray", "red"),
       pt.cex = 2,
       cex = 0.8,
       bty = "n")
```


To DO: 
Add node size variation based on the number of connections
Create an interactive version using packages like visNetwork or networkD3
Add timeline elements to show when individuals lived
Incorporate the inscription data to show the archaeological evidence

# Network analysis

To DO:
show some basic metrics on the complex file
degree centrality, 
betweenness centrality
eigenvector centrality

